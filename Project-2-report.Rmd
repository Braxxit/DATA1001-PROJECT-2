---
title: "Factors affecting Sleep"
author: "540214264, 540754276, 540062713, 540286434, 540301162, 540496066"
subtitle: "Project 2"
date: "University of Sydney | DATA1001 | APRIL 2024"

output:
  html_document:
    fig_caption: yes
    number_sections: yes
    self_contained: yes
    css: bootstrap.min.css
    toc: true
    toc_depth: 3
    toc_float: true
    code_folding: hide
    

---

<br>

# Executive Summary

-   The aim of this report is to ascertain the main factor causing sleep deprivation among young adults today.
-   Data collected shows a positive correlation between screen time and quality of sleep 

<br>



# Full Report

<br>

## Initial Data Analysis (IDA)



### Source

The data used in this report was collected from university students from 3/28/24 to 4/14/24 through the usage of Google Forms:
<br>
(https://forms.gle/xxXj6JNymotvkEot5)

```{r, warning=FALSE, message=FALSE}
# Shows barplot of ages of survey participants
library(tidyverse)
library(readr)
Responses = read_csv("./Project 2 responses - Sheet1.csv", show_col_types = FALSE)
Responses = filter(Responses, Age < 30)
ggplot(Responses) + 
  geom_histogram(aes(x = Age), bins=30, fill = "steelblue") +
  labs(y = "Count") +
  scale_x_continuous(breaks = 0:23) 

```

### Structure

We received 31 responses for our survey. Each row represents a survey response while each of the columns represent our variables. This survey contained both quantitative (Hours of sleep, Screen time, Phone before bed) and qualitative (Exercise, Time of medication) variables. 

### Limitations

Not everyone has a fixed sleeping schedule. It is quite likely that our survey participants had fluctuating hours of sleep throughout their weeks. This could be due to their differing school timetables, causing them to sleep and wake up at varying times.Also, the sleep quality is biased on how people judge their own sleep quality, because we are aware that everyone has their own perspective about what a good sleep quality is.

### Assumptions
We assume that all survey participants will tell the truth and will take the survey seriously. Any illogical responses (i.e. age of participant being 999 years old) will not be included in our results.

### Data Clearing
For data clearing, we will use a function called `filter()` to remove any illogical results that may damage the reliability of our results.


<br>
<br>
<h2> Research theme </h2>
We will investigate the relationship between the sleeping behavior of University students and the activities they partake in during their normal day.

<br>

## Research Question 1

How does phone usage before bed affects one's sleep quality and hours?

```{r message = FALSE, warning = F}
library(tidyverse)
ggplot(Responses, aes(x = `Quality of sleep`)) + 
  geom_bar(aes(fill= `Phone before bed`)) +
  ggtitle("Quality of Sleep ") +
  labs(x = "Quality of Sleep", y = "Frequency", fill = "Phone usage before bed") +
  scale_y_continuous(breaks = 0:15) +
  guides(fill = guide_legend(reverse = T))
```


Summary: As we can see above, Although it doesn't apply to all cases, people who use their phones before bed tend to have lower sleep quality. We assume those who still have good sleep quality despite using phone before bed are special case ( they may exercise regularly, thus making them having better sleep quality )

## Research Question 2

How does screen time influence duration of sleep?

```{r message = FALSE, warning = FALSE}
library(hms)
library(dplyr)
library(lubridate)
Responses <- Responses %>%
  mutate(`Sleep time` = if_else(hour(Responses$`Sleep time`) > 9 & hour(Responses$`Sleep time`) < 12, Responses$`Sleep time` + as_hms(12:00:00), Responses$`Sleep time`))
ggplot(Responses, aes(x = `Phone before bed`, y=`Sleep time`)) + geom_boxplot()
```

```{r, message = F, warning = F}
Responses$`Hours of sleep` <- as.numeric(Responses$`Hours of sleep`)
Responses$`Screen time` <- as.numeric(Responses$`Screen time`)
ggplot(Responses, aes(x=`Screen time`, y=`Hours of sleep`)) +
  geom_point() + 
  geom_smooth(method = 'lm', se = T) +
  scale_x_continuous(breaks = 0:16) + 
  labs(x = "Screen Time (Hours)", y = "Sleeping Duration (Hours)", title = "Scatter plot of Sleeping Duration against Screen Time")
```

Summary: As we can see above, people who use their phone right before bed tend to have way late night sleep, we assume this is caused by scrolling through social media that postponed their sleep time.

# References

Style: APA

<br>

# Acknowledgment
